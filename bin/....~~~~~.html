<!DOCTYPE html>
<html lang="en" class="html">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="css/assets/icon.png" type="image/x-icon" />
    <title>Zion Intercontinental Bank Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/dashboard/dashboard.css" />
    <link rel="stylesheet" href="css/notification.css" />

    <!-- Tiny horizontal sparkline styling -->
    <style>
      /* .balance-container {
        max-width: 500px;
        margin: 0 auto;
      } */

      /* .trendline {
        width: 80px;  
        height: 20px;
        display: block;
        margin: 0 auto;
      } */
    </style>

    <!-- Trend line chart library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="text/javascript">
      function googleTranslateElementInit2() {
        new google.translate.TranslateElement({ pageLanguage: 'en', autoDisplay: false }, 'google_translate_element2');
      }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit2"></script>
  </head>

  <body>
    <header>
      <!-- header content unchanged -->
    </header>

    <!-- other sections unchanged for brevity -->

    <main>
      <div class="dashboard-log">
        <h3 class="color-head text-center">ACCOUNT DASHBOARD</h3>
        <div class="welcome-text-container">
          <div>
            <p class="mb-0">Welcome,</p>
            <h4 id="full-name"></h4>
          </div>
          <div><a href="Transaction-history.html">ACCOUNT STATEMENT</a></div>
        </div>
      </div>

      <!-- BALANCE CARD -->
      <div class="balance-container">
        <p class="card-title">Available Balance</p>
        <p class="credit">Credit</p>
        <h3 class="fw-bold text-dark" id="balance">loading..</h3>
        <!-- Horizontal sparkline -->
        <canvas id="balanceTrend" class="trendline"></canvas>
      </div>
    </main>

    <script src="//code.tidio.co/xegiulazpg7k372l2yqcnmruivja7fe4.js" async></script>

    <!-- Trend line script -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Replace this dummy data with real balance history fetched from your backend
        const balanceHistory = [1200, 1300, 1280, 1400, 1380, 1450];

        const ctx = document.getElementById('balanceTrend').getContext('2d');
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: balanceHistory.map((_, i) => i + 1),
            datasets: [{
              data: balanceHistory,
              borderColor: balanceHistory.at(-1) >= balanceHistory.at(-2) ? '#28a745' : '#dc3545',
              borderWidth: 2,
              tension: 0.4,
              pointRadius: 0,
              fill: false
            }]
          },
          options: {
            responsive: false, // keep the canvas fixed to the CSS width/height
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
              tooltip: { enabled: false }
            },
            scales: {
              x: { display: false },
              y: { display: false }
            }
          }
        });
      });
    </script>
  </body>
</html>
